# Configuration Supabase pour FoodSave
# Standards NYTH - Zero Compromise

# =================== SUPABASE PRODUCTION ===================
# À configurer avec vos vraies clés de production
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-role-key-here

# =================== SUPABASE LOCAL (DÉVELOPPEMENT) ===================
# Configuration pour l'environnement de développement local
SUPABASE_URL_LOCAL=http://localhost:54321
SUPABASE_ANON_KEY_LOCAL=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SUPABASE_SERVICE_ROLE_KEY_LOCAL=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# =================== CONFIGURATION D'ENVIRONNEMENT ===================
# Environnement actuel (development, staging, production)
ENVIRONMENT=development

# Debug et logs
DEBUG_MODE=true
VERBOSE_LOGGING=true

# =================== CONFIGURATION DE L'APPLICATION ===================
# Nom de l'application
APP_NAME=FoodSave
APP_VERSION=1.0.0

# URLs de redirection pour l'authentification
AUTH_REDIRECT_URL=com.nyth.foodsave://auth/callback
WEB_AUTH_REDIRECT_URL=http://localhost:3000/auth/callback

# =================== CONFIGURATION DE SÉCURITÉ ===================
# Clé de chiffrement pour les données locales (doit être changée en production)
LOCAL_ENCRYPTION_KEY=your-32-character-encryption-key-here-12345

# Salt pour les hashs locaux
SECURITY_SALT=foodsave_nyth_security_salt_2024

# Durée de validité des sessions (en secondes)
SESSION_TIMEOUT=3600

# =================== CONFIGURATION DES NOTIFICATIONS ===================
# Configuration FCM pour les notifications push (à configurer plus tard)
FCM_SERVER_KEY=your-fcm-server-key-here
FCM_SENDER_ID=your-sender-id-here

# =================== CONFIGURATION DU STOCKAGE ===================
# Buckets Supabase
BUCKET_MEAL_IMAGES=meal-images
BUCKET_RESTAURANT_IMAGES=restaurant-images  
BUCKET_USER_AVATARS=user-avatars
BUCKET_DOCUMENTS=documents

# Tailles maximales des fichiers (en bytes)
MAX_FILE_SIZE_AVATAR=5242880        # 5MB
MAX_FILE_SIZE_MEAL_IMAGE=10485760   # 10MB
MAX_FILE_SIZE_DOCUMENT=52428800     # 50MB

# =================== CONFIGURATION GÉOLOCALISATION ===================
# Rayon de recherche par défaut (en kilomètres)
DEFAULT_SEARCH_RADIUS=5.0
MAX_SEARCH_RADIUS=50.0

# API Keys géolocalisation (optionnel)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here
MAPBOX_ACCESS_TOKEN=your-mapbox-token-here

# =================== CONFIGURATION MÉTIER ===================
# Paramètres métier par défaut
DEFAULT_MEAL_EXPIRY_HOURS=24
MIN_DISCOUNT_PERCENTAGE=10
MAX_DISCOUNT_PERCENTAGE=90

# Frais de service (en pourcentage)
SERVICE_FEE_PERCENTAGE=5.0

# =================== CONFIGURATION DE DÉVELOPPEMENT ===================
# Mode debug pour les services
AUTH_DEBUG=true
STORAGE_DEBUG=true
DATABASE_DEBUG=true

# Logs détaillés
LOG_LEVEL=debug
LOG_SQL_QUERIES=true

# Test mode (pour les tests automatisés)
TEST_MODE=false
MOCK_GEOLOCATION=false

# =================== URLs ET ENDPOINTS ===================
# URL de base pour l'API (dérivée de SUPABASE_URL)
API_BASE_URL=${SUPABASE_URL}/rest/v1
STORAGE_BASE_URL=${SUPABASE_URL}/storage/v1
AUTH_BASE_URL=${SUPABASE_URL}/auth/v1

# =================== CONFIGURATION D'URGENCE ===================
# Paramètres de fallback en cas de problème
FALLBACK_MODE=false
OFFLINE_MODE_ENABLED=true
CACHE_DURATION_HOURS=24

# =================== INFORMATIONS DE CONTACT ===================
# Informations de support (pour l'app)
SUPPORT_EMAIL=support@foodsave.fr
SUPPORT_PHONE=+33123456789
PRIVACY_POLICY_URL=https://foodsave.fr/privacy
TERMS_OF_SERVICE_URL=https://foodsave.fr/terms

# =================== NOTES D'UTILISATION ===================
# 1. Ne JAMAIS commiter ce fichier avec les vraies clés de production
# 2. Utiliser des variables d'environnement système en production  
# 3. Régénérer les clés de sécurité avant le déploiement
# 4. Configurer les vraies URLs Supabase après création du projet
# 5. Tester d'abord en local avec supabase start

# =================== COMMANDES UTILES ===================
# Pour démarrer Supabase en local :
# supabase start
#
# Pour récupérer les clés locales :
# supabase status
#
# Pour reset la DB locale :
# supabase db reset
#
# Pour voir les logs :
# supabase logs